<?xml version="1.0" encoding="utf-8"?>
<doctrine-mapping xmlns="http://doctrine-project.org/schemas/orm/doctrine-mapping" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://doctrine-project.org/schemas/orm/doctrine-mapping http://doctrine-project.org/schemas/orm/doctrine-mapping.xsd">
	<entity name="Indigo\Service\Entity\Service" table="services">
		<id name="id" type="integer" column="id">
			<generator strategy="AUTO"/>
		</id>

		<field name="customerName" type="string" />
		<field name="customerPhone" type="string" />
		<field name="customerEmail" type="string" />
		<field name="description" type="text" nullable="true" />
		<field name="estimatedEnd" type="datetime" />
		<field name="createdAt" type="datetime" />

		<one-to-many field="comments" target-entity="Indigo\Service\Entity\Comment" mapped-by="service">
			<cascade><cascade-all /></cascade>
			<join-column name="service_id" referenced-column-name="id" on-delete="CASCADE" on-update="CASCADE" />
		</one-to-many>
		<many-to-one field="author" target-entity="Indigo\Service\Entity\User"></many-to-one>
	</entity>
</doctrine-mapping>
